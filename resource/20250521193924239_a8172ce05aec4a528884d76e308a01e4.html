<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>小波分析核心知识点 | 信号处理</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css">
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.3.0/dist/chart.umd.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap');
        
        :root {
            --primary: #3b82f6;
            --primary-dark: #2563eb;
            --secondary: #6366f1;
            --accent: #8b5cf6;
            --bg-light: #f8fafc;
            --text-light: #334155;
            --bg-dark: #1e293b;
            --text-dark: #e2e8f0;
        }
        
        body {
            font-family: 'Noto Sans SC', sans-serif;
            transition: background-color 0.3s, color 0.3s;
        }
        
        .dark {
            background-color: var(--bg-dark);
            color: var(--text-dark);
        }
        
        .light {
            background-color: var(--bg-light);
            color: var(--text-light);
        }
        
        .card {
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .card:hover {
            transform: translateY(-5px);
        }
        
        .light .card {
            background-color: white;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        
        .light .card:hover {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        
        .dark .card {
            background-color: #334155;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2);
        }
        
        .dark .card:hover {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2);
        }
        
        .btn {
            transition: all 0.3s;
        }
        
        .btn:hover {
            transform: scale(1.05);
        }

        .fade-in {
            animation: fadeIn 0.8s ease-in;
        }
        
        @keyframes fadeIn {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }
        
        .katex-display {
            overflow-x: auto;
            overflow-y: hidden;
            padding: 0.5rem 0;
        }
        
        .wave-animation {
            position: relative;
            overflow: hidden;
        }

        /* 可视化代码区域样式 */
        .visualization-container {
            border-radius: 0.5rem;
            overflow: hidden;
            position: relative;
        }
        
        .dark .visualization-container {
            background-color: #1e293b;
            border: 1px solid #475569;
        }
        
        .light .visualization-container {
            background-color: #f8fafc;
            border: 1px solid #e2e8f0;
        }
        
        /* 代码标题栏样式 */
        .code-title {
            border-bottom: 1px solid;
            font-family: monospace;
            font-size: 0.875rem;
        }
        
        .dark .code-title {
            background-color: #334155;
            border-color: #475569;
        }
        
        .light .code-title {
            background-color: #e2e8f0;
            border-color: #cbd5e1;
        }

        /* 自定义滚动条 */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }
        
        ::-webkit-scrollbar-track {
            background: transparent;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #94a3b8;
            border-radius: 3px;
        }
        
        .dark ::-webkit-scrollbar-thumb {
            background: #475569;
        }
        
        .topic-pill {
            transition: all 0.3s;
        }
        
        .topic-pill:hover {
            transform: translateY(-2px);
        }
    </style>
</head>
<body class="light">
    <!-- 导航栏 -->
    <header class="sticky top-0 z-50 backdrop-blur-sm bg-white/70 dark:bg-slate-900/70 shadow-sm">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center gap-2">
                <i class="fas fa-wave-square text-blue-500 text-xl"></i>
                <h1 class="text-xl font-bold">信号处理 - 小波分析</h1>
            </div>
            <div class="flex items-center gap-3">
                <button id="theme-toggle" class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition-all">
                    <i class="fas fa-moon text-gray-600 dark:text-gray-300 dark:hidden"></i>
                    <i class="fas fa-sun text-yellow-400 hidden dark:block"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- 页面内容 -->
    <main class="container mx-auto px-4 py-6 fade-in">
        <!-- 页面标题 -->
        <section class="mb-12">
            <h1 class="text-3xl font-bold mb-4 text-center">小波分析核心知识点总结</h1>
            <div class="flex flex-wrap justify-center gap-2 mt-3">
                <span class="topic-pill px-3 py-1 bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 rounded-full text-sm font-medium"><i class="fas fa-signal mr-1"></i>时频分析</span>
                <span class="topic-pill px-3 py-1 bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200 rounded-full text-sm font-medium"><i class="fas fa-project-diagram mr-1"></i>多分辨率</span>
                <span class="topic-pill px-3 py-1 bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 rounded-full text-sm font-medium"><i class="fas fa-filter mr-1"></i>滤波器组</span>
                <span class="topic-pill px-3 py-1 bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200 rounded-full text-sm font-medium"><i class="fas fa-compress-arrows-alt mr-1"></i>离散小波变换</span>
            </div>
        </section>

        <!-- 小波分析基本概念 -->
        <section class="mb-10">
            <div class="card p-6 rounded-lg mb-6">
                <h2 class="text-2xl font-semibold mb-4 text-blue-600 dark:text-blue-400">
                    <i class="fas fa-question-circle mr-2"></i>什么是小波分析？
                </h2>
                <p class="mb-4">小波分析是一种时频分析方法，它克服了传统傅里叶分析在分析非平稳信号时的局限性。小波分析提供了一个可变的时频窗口，能够在不同尺度下分析信号的局部特性，实现了对信号的多分辨率分析。</p>
                
                <div class="flex flex-col md:flex-row gap-6 mt-6">
                    <div class="flex-1">
                        <h3 class="text-lg font-medium mb-3 text-gray-800 dark:text-gray-200">小波分析与傅里叶分析的对比</h3>
                        <ul class="list-disc pl-5 space-y-2">
                            <li>傅里叶变换使用正弦波作为基函数，在全时域上积分，不能有效反映信号的局部特性</li>
                            <li>短时傅里叶变换采用固定窗口，在时频分辨率上存在<strong>不确定性</strong></li>
                            <li>小波分析采用<strong>可伸缩和可平移</strong>的小波基函数，提供了可变的时频窗口</li>
                            <li>小波分析在高频段提供良好的时间分辨率，在低频段提供良好的频率分辨率</li>
                        </ul>
                    </div>
                    
                    <div class="flex-1">
                        <div class="visualization-container p-4">
                            <div class="code-title py-2 px-3 mb-2">时频分析对比</div>
                            <canvas id="timeFreqComparisonChart" height="220"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 小波函数基础 -->
        <section class="mb-10">
            <div class="card p-6 rounded-lg mb-6">
                <h2 class="text-2xl font-semibold mb-4 text-blue-600 dark:text-blue-400">
                    <i class="fas fa-square-root-alt mr-2"></i>小波函数的数学基础
                </h2>
                <p class="mb-4">小波是一类满足特定条件的函数，通常是局部非零且平均值为零的波形。基本小波（母小波）通过伸缩和平移可以生成一组小波基函数，用于信号的分解与重构。</p>
                
                <div class="mb-6">
                    <h3 class="text-lg font-medium mb-2 text-gray-800 dark:text-gray-200">母小波函数定义</h3>
                    <p class="mb-3">小波变换使用尺度参数（scale）和平移参数（translation）来调整和移动母小波 \(\psi(t)\)，生成小波族，基本形式为：</p>
                    <div class="bg-gray-50 dark:bg-gray-800 p-4 rounded-lg overflow-x-auto">
                        <p class="text-center">\[ \psi_{a,b}(t) = \frac{1}{\sqrt{|a|}} \psi\left(\frac{t-b}{a}\right) \]</p>
                    </div>
                    <p class="mt-3">其中，\(a\) 是尺度参数（控制小波的伸缩），\(b\) 是平移参数（控制小波的平移位置）。</p>
                </div>
                
                <!-- 可容许条件 -->
                <div class="mb-6">
                    <h3 class="text-lg font-medium mb-2 text-gray-800 dark:text-gray-200">可容许条件</h3>
                    <p class="mb-3">一个函数要成为小波，必须满足可容许条件（Admissibility Condition）：</p>
                    <div class="bg-gray-50 dark:bg-gray-800 p-4 rounded-lg overflow-x-auto">
                        <p class="text-center">\[ C_\psi = \int_{-\infty}^{+\infty} \frac{|\hat{\psi}(\omega)|^2}{|\omega|} d\omega < \infty \]</p>
                    </div>
                    <p class="mt-3">其中 \(\hat{\psi}(\omega)\) 是 \(\psi(t)\) 的傅里叶变换。这一条件实际上要求小波函数的直流分量为零：</p>
                    <div class="bg-gray-50 dark:bg-gray-800 p-4 rounded-lg overflow-x-auto">
                        <p class="text-center">\[ \int_{-\infty}^{+\infty} \psi(t) dt = 0 \]</p>
                    </div>
                </div>
                
                <!-- 小波变换 -->
                <div class="mb-6">
                    <h3 class="text-lg font-medium mb-2 text-gray-800 dark:text-gray-200">连续小波变换</h3>
                    <p class="mb-3">连续小波变换(CWT)定义为信号与小波函数的内积：</p>
                    <div class="bg-gray-50 dark:bg-gray-800 p-4 rounded-lg overflow-x-auto">
                        <p class="text-center">\[ CWT_x(a,b) = \int_{-\infty}^{+\infty} x(t) \frac{1}{\sqrt{|a|}} \psi^*\left(\frac{t-b}{a}\right) dt \]</p>
                    </div>
                    <p class="mt-3">其中 \(\psi^*(t)\) 表示 \(\psi(t)\) 的复共轭。CWT 的结果是一个二维函数，表示信号在各个尺度和时间位置的能量分布。</p>
                </div>
                
                <div class="flex flex-col md:flex-row gap-6 mt-6">
                    <div class="flex-1">
                        <h3 class="text-lg font-medium mb-3 text-gray-800 dark:text-gray-200">常见的小波函数</h3>
                        <ul class="list-disc pl-5 space-y-2">
                            <li><strong>Haar小波</strong>：最简单的小波，是一个方波脉冲</li>
                            <li><strong>Daubechies小波</strong>：具有紧凑支撑的正交小波族</li>
                            <li><strong>Morlet小波</strong>：高斯调制的正弦波，适合频率分析</li>
                            <li><strong>Mexican Hat小波</strong>：高斯函数的二阶导数</li>
                            <li><strong>Meyer小波</strong>：频域有紧凑支撑的正交小波</li>
                        </ul>
                    </div>
                    
                    <div class="flex-1">
                        <div class="visualization-container p-4">
                            <div class="code-title py-2 px-3 mb-2">典型小波函数</div>
                            <canvas id="waveletFunctionsChart" height="220"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 多分辨率分析 -->
        <section class="mb-10">
            <div class="card p-6 rounded-lg mb-6">
                <h2 class="text-2xl font-semibold mb-4 text-blue-600 dark:text-blue-400">
                    <i class="fas fa-layer-group mr-2"></i>多分辨率分析框架
                </h2>
                <p class="mb-4">多分辨率分析（MRA）是小波理论的核心概念，它提供了一个数学框架，用于在不同尺度上分解信号，从而分析信号在不同尺度下的特性。</p>
                
                <div class="mb-6">
                    <h3 class="text-lg font-medium mb-2 text-gray-800 dark:text-gray-200">多分辨率分析的数学定义</h3>
                    <p>MRA 是一系列封闭子空间 \(\{V_j\}_{j \in \mathbb{Z}}\) ，满足以下性质：</p>
                    <div class="bg-gray-50 dark:bg-gray-800 p-4 rounded-lg overflow-x-auto mt-3">
                        <ol class="list-decimal pl-6 space-y-2">
                            <li>\( \cdots \subset V_2 \subset V_1 \subset V_0 \subset V_{-1} \subset V_{-2} \subset \cdots \) （嵌套性）</li>
                            <li>\( \overline{\cup_{j \in \mathbb{Z}} V_j} = L^2(\mathbb{R}) \) （在 \(L^2\) 中稠密）</li>
                            <li>\( \cap_{j \in \mathbb{Z}} V_j = \{0\} \) （交集为零集）</li>
                            <li>\( f(t) \in V_j \Leftrightarrow f(2t) \in V_{j-1} \) （尺度不变性）</li>
                            <li>\( f(t) \in V_0 \Leftrightarrow f(t-k) \in V_0, \forall k \in \mathbb{Z} \) （平移不变性）</li>
                            <li>存在一个尺度函数 \(\phi(t) \in V_0\)，使得 \(\{\phi(t-k), k \in \mathbb{Z}\}\) 构成 \(V_0\) 的一组 Riesz 基</li>
                        </ol>
                    </div>
                </div>
                
                <div class="mb-6">
                    <h3 class="text-lg font-medium mb-2 text-gray-800 dark:text-gray-200">小波空间与尺度空间</h3>
                    <p class="mb-3">定义小波空间 \(W_j\) 为 \(V_j\) 在 \(V_{j-1}\) 中的正交补：</p>
                    <div class="bg-gray-50 dark:bg-gray-800 p-4 rounded-lg overflow-x-auto">
                        <p class="text-center">\[ V_{j-1} = V_j \oplus W_j \]</p>
                    </div>
                    <p class="mt-3">这意味着任何属于 \(V_{j-1}\) 的函数可以唯一分解为 \(V_j\) 中的一个函数和 \(W_j\) 中的一个函数的和。进一步，可以得到：</p>
                    <div class="bg-gray-50 dark:bg-gray-800 p-4 rounded-lg overflow-x-auto mt-2">
                        <p class="text-center">\[ L^2(\mathbb{R}) = V_J \oplus \bigoplus_{j \leq J} W_j \]</p>
                    </div>
                </div>
                
                <div class="mb-6">
                    <h3 class="text-lg font-medium mb-2 text-gray-800 dark:text-gray-200">尺度函数和小波函数关系</h3>
                    <p class="mb-3">尺度函数 \(\phi(t)\) 满足两尺度方程（又称细分方程）：</p>
                    <div class="bg-gray-50 dark:bg-gray-800 p-4 rounded-lg overflow-x-auto">
                        <p class="text-center">\[ \phi(t) = \sum_{n} h[n]\sqrt{2}\phi(2t-n) \]</p>
                    </div>
                    <p class="mt-3">小波函数 \(\psi(t)\) 可以通过尺度函数定义：</p>
                    <div class="bg-gray-50 dark:bg-gray-800 p-4 rounded-lg overflow-x-auto mt-2">
                        <p class="text-center">\[ \psi(t) = \sum_{n} g[n]\sqrt{2}\phi(2t-n) \]</p>
                    </div>
                    <p class="mt-3">其中 \(g[n] = (-1)^n h[1-n]\) 是高通滤波器系数，而 \(h[n]\) 是低通滤波器系数。</p>
                </div>
                
                <div class="flex flex-col md:flex-row gap-6 mt-6">
                    <div class="flex-1">
                        <h3 class="text-lg font-medium mb-3 text-gray-800 dark:text-gray-200">多分辨率分析的特点</h3>
                        <ul class="list-disc pl-5 space-y-2">
                            <li>提供了信号的多尺度表示框架</li>
                            <li>实现了对信号的逐层分解与重构</li>
                            <li>建立了尺度函数、小波函数与滤波器间的关系</li>
                            <li>为离散小波变换提供了理论基础</li>
                            <li>是构建小波基和设计小波滤波器的核心理论</li>
                        </ul>
                    </div>
                    
                    <div class="flex-1">
                        <div class="visualization-container p-4">
                            <div class="code-title py-2 px-3 mb-2">多分辨率分解示意</div>
                            <div id="mraVisualization" class="relative h-[220px] w-full"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 离散小波变换 -->
        <section class="mb-10">
            <div class="card p-6 rounded-lg mb-6">
                <h2 class="text-2xl font-semibold mb-4 text-blue-600 dark:text-blue-400">
                    <i class="fas fa-th mr-2"></i>离散小波变换
                </h2>
                <p class="mb-4">离散小波变换（DWT）是小波分析在数字信号处理中的实际应用，通过Mallat算法实现了快速的小波分解和重构，实质上是一种子带编码过程。</p>
                
                <div class="mb-6">
                    <h3 class="text-lg font-medium mb-2 text-gray-800 dark:text-gray-200">Mallat算法（快速小波变换）</h3>
                    <p class="mb-3">Mallat算法是一种高效实现DWT的算法，基于多分辨率分析理论，将信号通过低通和高通滤波器分解为近似系数和细节系数。</p>
                    
                    <div class="bg-gray-50 dark:bg-gray-800 p-4 rounded-lg overflow-x-auto">
                        <p class="mb-2"><strong>分解公式：</strong></p>
                        <p class="text-center mb-4">\[ a_{j+1}[m] = \sum_n h[n-2m] a_j[n] \]</p>
                        <p class="text-center">\[ d_{j+1}[m] = \sum_n g[n-2m] a_j[n] \]</p>
                    </div>
                    
                    <div class="bg-gray-50 dark:bg-gray-800 p-4 rounded-lg overflow-x-auto mt-4">
                        <p class="mb-2"><strong>重构公式：</strong></p>
                        <p class="text-center">\[ a_j[n] = \sum_m h[n-2m] a_{j+1}[m] + \sum_m g[n-2m] d_{j+1}[m] \]</p>
                    </div>
                    
                    <p class="mt-3">其中，\(a_j\) 是尺度j的近似系数，\(d_j\) 是尺度j的细节系数，\(h[n]\) 和 \(g[n]\) 分别是低通和高通滤波器系数。</p>
                </div>
                
                <div class="flex flex-col md:flex-row gap-6 mt-6">
                    <div class="flex-1">
                        <h3 class="text-lg font-medium mb-3 text-gray-800 dark:text-gray-200">DWT实现步骤</h3>
                        <ol class="list-decimal pl-5 space-y-2">
                            <li>信号通过低通滤波器 \(h[n]\) 和高通滤波器 \(g[n]\) 进行卷积</li>
                            <li>卷积结果进行下采样（隔点抽样），保留偶数索引的样本</li>
                            <li>低通滤波器输出的结果为近似系数（低频部分）</li>
                            <li>高通滤波器输出的结果为细节系数（高频部分）</li>
                            <li>递归对低频部分重复上述过程，进行多层分解</li>
                            <li>重构过程则是分解的逆过程，通过上采样和滤波实现</li>
                        </ol>
                    </div>
                    
                    <div class="flex-1">
                        <div class="visualization-container p-4">
                            <div class="code-title py-2 px-3 mb-2">DWT滤波器组结构</div>
                            <div id="dwtVisualization" class="h-[250px] w-full overflow-y-auto"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 小波变换在信号处理中的应用 -->
        <section class="mb-10">
            <div class="card p-6 rounded-lg mb-6">
                <h2 class="text-2xl font-semibold mb-4 text-blue-600 dark:text-blue-400">
                    <i class="fas fa-cogs mr-2"></i>小波分析在信号处理中的应用
                </h2>
                <p class="mb-4">小波分析因其优良的时频局部化特性，在信号处理的众多领域有广泛应用。</p>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6">
                    <div class="bg-blue-50 dark:bg-blue-900/30 p-4 rounded-lg">
                        <h3 class="text-lg font-medium mb-2 text-blue-700 dark:text-blue-300">信号去噪</h3>
                        <p>利用小波阈值方法对信号进行去噪，保留主要特征同时去除噪声干扰。基于小波系数在不同尺度上的统计特性，通过阈值处理（软阈值或硬阈值）实现噪声抑制。</p>
                    </div>
                    
                    <div class="bg-green-50 dark:bg-green-900/30 p-4 rounded-lg">
                        <h3 class="text-lg font-medium mb-2 text-green-700 dark:text-green-300">特征提取</h3>
                        <p>利用小波系数表征信号特征，用于模式识别和分类。小波变换可以有效捕捉信号中的奇异点、边缘和瞬态特征，广泛用于ECG、EEG等生物信号分析。</p>
                    </div>
                    
                    <div class="bg-purple-50 dark:bg-purple-900/30 p-4 rounded-lg">
                        <h3 class="text-lg font-medium mb-2 text-purple-700 dark:text-purple-300">图像压缩</h3>
                        <p>JPEG2000等现代图像压缩标准基于小波变换，提供优于DCT的压缩性能。小波变换能更有效地表示图像中的边缘和纹理信息，实现更高的压缩比。</p>
                    </div>
                    
                    <div class="bg-amber-50 dark:bg-amber-900/30 p-4 rounded-lg">
                        <h3 class="text-lg font-medium mb-2 text-amber-700 dark:text-amber-300">异常检测</h3>
                        <p>利用小波变换检测信号中的异常变化和突变，应用于设备故障诊断、地震信号分析等领域。小波能有效区分正常模式和异常模式。</p>
                    </div>
                    
                    <div class="bg-rose-50 dark:bg-rose-900/30 p-4 rounded-lg">
                        <h3 class="text-lg font-medium mb-2 text-rose-700 dark:text-rose-300">边缘检测</h3>
                        <p>小波变换在不同尺度下对图像边缘有增强作用，是图像边缘检测的有效工具。基于小波的多尺度边缘检测器对噪声有较强的鲁棒性。</p>
                    </div>
                    
                    <div class="bg-cyan-50 dark:bg-cyan-900/30 p-4 rounded-lg">
                        <h3 class="text-lg font-medium mb-2 text-cyan-700 dark:text-cyan-300">时频分析</h3>
                        <p>分析非平稳信号的时变频谱特性，如语音、音乐和振动信号分析。通过小波时频图可视化信号的时频变化特征，提供比短时傅里叶变换更灵活的分析。</p>
                    </div>
                </div>
                
                <div class="visualization-container p-4">
                    <div class="code-title py-2 px-3 mb-2">信号去噪实例比较</div>
                    <canvas id="denoisingExampleChart" height="200"></canvas>
                </div>
            </div>
        </section>
        
        <!-- 思考与拓展问题 -->
        <section class="fixed bottom-0 left-0 right-0 bg-white/95 dark:bg-gray-900/95 shadow-lg backdrop-blur-sm z-40 transition-transform" id="thoughtsSection">
            <div class="container mx-auto px-4 py-3">
                <div class="flex justify-between items-center mb-2">
                    <h3 class="text-lg font-medium text-gray-800 dark:text-gray-200">
                        <i class="fas fa-brain text-purple-500 mr-2"></i>思考与拓展
                    </h3>
                    <button id="toggleThoughts" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                        <i class="fas fa-chevron-up" id="thoughtsIcon"></i>
                    </button>
                </div>
                <div id="thoughtsContent" class="overflow-hidden transition-all duration-300 max-h-0">
                    <div class="space-y-3 py-2">
                        <div class="p-3 bg-purple-50 dark:bg-purple-900/30 rounded-lg">
                            <p class="font-medium">1. 小波分析与傅里叶分析的优劣比较？</p>
                            <p class="text-sm text-gray-600 dark:text-gray-300 mt-1">分析两种方法在处理不同类型信号时的优势与局限性，思考它们的适用场景。</p>
                        </div>
                        <div class="p-3 bg-blue-50 dark:bg-blue-900/30 rounded-lg">
                            <p class="font-medium">2. 如何选择合适的小波基函数？</p>
                            <p class="text-sm text-gray-600 dark:text-gray-300 mt-1">不同应用场景下小波基的选择标准是什么？各类小波函数有何特点？</p>
                        </div>
                        <div class="p-3 bg-amber-50 dark:bg-amber-900/30 rounded-lg">
                            <p class="font-medium">3. 小波包变换与离散小波变换的区别？</p>
                            <p class="text-sm text-gray-600 dark:text-gray-300 mt-1">小波包如何提供更灵活的时频分解？它在哪些应用中更有优势？</p>
                        </div>
                        <div class="p-3 bg-green-50 dark:bg-green-900/30 rounded-lg">
                            <p class="font-medium">4. 如何理解小波阈值去噪的原理？</p>
                            <p class="text-sm text-gray-600 dark:text-gray-300 mt-1">探讨不同阈值选择方法（通用阈值、SURE阈值等）的理论基础与效果比较。</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- 页脚 -->
    <footer class="bg-gray-100 dark:bg-gray-800 py-6">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <p class="text-gray-800 dark:text-gray-200 font-medium">IECUBE Tutorial © 2025</p>
                </div>
                <div class="text-sm text-gray-500 dark:text-gray-400">
                    <p>本内容为人工智能生成，观点为转述原作者，不代表本公司立场，仅供参考和批判</p>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // 主题切换功能
        document.addEventListener('DOMContentLoaded', () => {
            const themeToggle = document.getElementById('theme-toggle');
            const body = document.body;
            
            // 检查系统偏好
            const prefersDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;
            if (prefersDarkMode) {
                body.classList.remove('light');
                body.classList.add('dark');
            }
            
            themeToggle.addEventListener('click', () => {
                body.classList.toggle('dark');
                body.classList.toggle('light');
            });

            // 渲染所有数学公式
            renderMathInElement(document.body, {
                delimiters: [
                    {left: '$$', right: '$$', display: true},
                    {left: '$', right: '$', display: false},
                    {left: '\\(', right: '\\)', display: false},
                    {left: '\\[', right: '\\]', display: true}
                ],
                throwOnError: false
            });
            
            // 思考题展开/收起功能
            const toggleThoughts = document.getElementById('toggleThoughts');
            const thoughtsContent = document.getElementById('thoughtsContent');
            const thoughtsIcon = document.getElementById('thoughtsIcon');
            let isExpanded = false;
            
            toggleThoughts.addEventListener('click', () => {
                isExpanded = !isExpanded;
                if (isExpanded) {
                    thoughtsContent.style.maxHeight = thoughtsContent.scrollHeight + 'px';
                    thoughtsIcon.className = 'fas fa-chevron-down';
                } else {
                    thoughtsContent.style.maxHeight = '0';
                    thoughtsIcon.className = 'fas fa-chevron-up';
                }
            });
            
            // 创建小波函数与傅里叶分析对比图
            const timeFreqCtx = document.getElementById('timeFreqComparisonChart').getContext('2d');
            new Chart(timeFreqCtx, {
                type: 'scatter',
                data: {
                    datasets: [
                        {
                            label: 'STFT（固定窗口）',
                            data: Array.from({length: 9}, (_, i) => ({
                                x: 10 + i*10, 
                                y: 50
                            })),
                            backgroundColor: 'rgba(54, 162, 235, 0.6)',
                            borderColor: 'rgba(54, 162, 235, 1)',
                            pointRadius: 8,
                            pointStyle: 'rect'
                        },
                        {
                            label: '小波（可变窗口）',
                            data: [
                                {x: 10, y: 80, size: 4},
                                {x: 20, y: 70, size: 6},
                                {x: 30, y: 60, size: 8},
                                {x: 40, y: 50, size: 10},
                                {x: 50, y: 40, size: 12},
                                {x: 60, y: 30, size: 14},
                                {x: 70, y: 20, size: 16},
                                {x: 80, y: 10, size: 18}
                            ],
                            backgroundColor: 'rgba(255, 159, 64, 0.6)',
                            borderColor: 'rgba(255, 159, 64, 1)',
                            pointRadius: (ctx) => ctx.raw.size,
                            pointStyle: 'rect'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: '时间',
                                color: document.body.classList.contains('dark') ? '#e2e8f0' : '#334155'
                            },
                            grid: {
                                color: document.body.classList.contains('dark') ? '#475569' : '#e2e8f0'
                            },
                            ticks: {
                                color: document.body.classList.contains('dark') ? '#e2e8f0' : '#334155'
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: '频率',
                                color: document.body.classList.contains('dark') ? '#e2e8f0' : '#334155'
                            },
                            grid: {
                                color: document.body.classList.contains('dark') ? '#475569' : '#e2e8f0'
                            },
                            ticks: {
                                color: document.body.classList.contains('dark') ? '#e2e8f0' : '#334155'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            labels: {
                                color: document.body.classList.contains('dark') ? '#e2e8f0' : '#334155'
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `${context.dataset.label}: (时间: ${context.parsed.x}, 频率: ${context.parsed.y})`;
                                }
                            }
                        }
                    }
                }
            });
            
            // 创建小波函数可视化
            const waveletCtx = document.getElementById('waveletFunctionsChart').getContext('2d');
            new Chart(waveletCtx, {
                type: 'line',
                data: {
                    labels: Array.from({length: 100}, (_, i) => i/10 - 5),
                    datasets: [
                        {
                            label: 'Haar小波',
                            data: Array.from({length: 100}, (_, i) => {
                                const x = i/10 - 5;
                                if (x >= 0 && x < 0.5) return 1;
                                else if (x >= 0.5 && x < 1) return -1;
                                else return 0;
                            }),
                            borderColor: 'rgba(54, 162, 235, 1)',
                            borderWidth: 2,
                            fill: false
                        },
                        {
                            label: 'Morlet小波',
                            data: Array.from({length: 100}, (_, i) => {
                                const x = i/10 - 5;
                                return Math.exp(-x*x/2) * Math.cos(5*x);
                            }),
                            borderColor: 'rgba(255, 99, 132, 1)',
                            borderWidth: 2,
                            fill: false
                        },
                        {
                            label: 'Mexican Hat小波',
                            data: Array.from({length: 100}, (_, i) => {
                                const x = i/10 - 5;
                                return (1 - x*x) * Math.exp(-x*x/2);
                            }),
                            borderColor: 'rgba(75, 192, 192, 1)',
                            borderWidth: 2,
                            fill: false
                        }
                    ]
                },
                options: {
                    responsive: true,
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: '时间 t',
                                color: document.body.classList.contains('dark') ? '#e2e8f0' : '#334155'
                            },
                            grid: {
                                color: document.body.classList.contains('dark') ? '#475569' : '#e2e8f0'
                            },
                            ticks: {
                                color: document.body.classList.contains('dark') ? '#e2e8f0' : '#334155'
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: '振幅',
                                color: document.body.classList.contains('dark') ? '#e2e8f0' : '#334155'
                            },
                            grid: {
                                color: document.body.classList.contains('dark') ? '#475569' : '#e2e8f0'
                            },
                            ticks: {
                                color: document.body.classList.contains('dark') ? '#e2e8f0' : '#334155'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            labels: {
                                color: document.body.classList.contains('dark') ? '#e2e8f0' : '#334155'
                            }
                        }
                    }
                }
            });
            
            // 创建信号去噪示例图
            const denoisingCtx = document.getElementById('denoisingExampleChart').getContext('2d');
            new Chart(denoisingCtx, {
                type: 'line',
                data: {
                    labels: Array.from({length: 100}, (_, i) => i),
                    datasets: [
                        {
                            label: '原始信号',
                            data: Array.from({length: 100}, (_, i) => {
                                if (i < 30) return 1;
                                else if (i < 60) return 3;
                                else return 0.5;
                            }),
                            borderColor: 'rgba(54, 162, 235, 0.7)',
                            borderWidth: 2,
                            tension: 0.1,
                            fill: false,
                            hidden: true
                        },
                        {
                            label: '含噪信号',
                            data: Array.from({length: 100}, (_, i) => {
                                let baseVal = 0;
                                if (i < 30) baseVal = 1;
                                else if (i < 60) baseVal = 3;
                                else baseVal = 0.5;
                                return baseVal + (Math.random() - 0.5) * 1.5;
                            }),
                            borderColor: 'rgba(255, 99, 132, 0.7)',
                            borderWidth: 1.5,
                            tension: 0.1,
                            fill: false
                        },
                        {
                            label: '小波去噪后',
                            data: Array.from({length: 100}, (_, i) => {
                                let baseVal = 0;
                                if (i < 30) baseVal = 1;
                                else if (i < 60) baseVal = 3;
                                else baseVal = 0.5;
                                // 模拟小波去噪结果，实际情况下应该是应用小波去噪算法的结果
                                return baseVal + (Math.random() - 0.5) * 0.2;
                            }),
                            borderColor: 'rgba(75, 192, 192, 1)',
                            borderWidth: 2.5,
                            tension: 0.1,
                            fill: false
                        }
                    ]
                },
                options: {
                    responsive: true,
                    interaction: {
                        mode: 'index',
                        intersect: false
                    },
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: '样本点',
                                color: document.body.classList.contains('dark') ? '#e2e8f0' : '#334155'
                            },
                            grid: {
                                color: document.body.classList.contains('dark') ? '#475569' : '#e2e8f0'
                            },
                            ticks: {
                                color: document.body.classList.contains('dark') ? '#e2e8f0' : '#334155'
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: '振幅',
                                color: document.body.classList.contains('dark') ? '#e2e8f0' : '#334155'
                            },
                            grid: {
                                color: document.body.classList.contains('dark') ? '#475569' : '#e2e8f0'
                            },
                            ticks: {
                                color: document.body.classList.contains('dark') ? '#e2e8f0' : '#334155'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            labels: {
                                color: document.body.classList.contains('dark') ? '#e2e8f0' : '#334155'
                            }
                        },
                        title: {
                            display: true,
                            text: '小波去噪效果展示',
                            color: document.body.classList.contains('dark') ? '#e2e8f0' : '#334155'
                        }
                    }
                }
            });

            // 创建多分辨率分析可视化
            const mraVisualization = document.getElementById('mraVisualization');
            const isDarkMode = document.body.classList.contains('dark');
            mraVisualization.innerHTML = `
                <svg width="100%" height="100%" viewBox="0 0 400 200" xmlns="http://www.w3.org/2000/svg">
                    <!-- V0空间 -->
                    <rect x="50" y="30" width="300" height="40" fill="${isDarkMode ? '#1e3a8a' : '#dbeafe'}" stroke="${isDarkMode ? '#60a5fa' : '#2563eb'}" stroke-width="2"/>
                    <text x="200" y="50" text-anchor="middle" fill="${isDarkMode ? '#e2e8f0' : '#1e3a8a'}" font-size="16">V₀ (最细尺度空间)</text>
                    
                    <!-- V1空间 -->
                    <rect x="75" y="80" width="150" height="40" fill="${isDarkMode ? '#1e3a8a' : '#dbeafe'}" stroke="${isDarkMode ? '#60a5fa' : '#2563eb'}" stroke-width="2"/>
                    <text x="150" y="100" text-anchor="middle" fill="${isDarkMode ? '#e2e8f0' : '#1e3a8a'}" font-size="16">V₁</text>
                    
                    <!-- W1空间 -->
                    <rect x="235" y="80" width="100" height="40" fill="${isDarkMode ? '#5b21b6' : '#ede9fe'}" stroke="${isDarkMode ? '#a78bfa' : '#7c3aed'}" stroke-width="2"/>
                    <text x="285" y="100" text-anchor="middle" fill="${isDarkMode ? '#e2e8f0' : '#5b21b6'}" font-size="16">W₁</text>
                    
                    <!-- V2空间 -->
                    <rect x="90" y="130" width="75" height="40" fill="${isDarkMode ? '#1e3a8a' : '#dbeafe'}" stroke="${isDarkMode ? '#60a5fa' : '#2563eb'}" stroke-width="2"/>
                    <text x="127.5" y="150" text-anchor="middle" fill="${isDarkMode ? '#e2e8f0' : '#1e3a8a'}" font-size="16">V₂</text>
                    
                    <!-- W2空间 -->
                    <rect x="175" y="130" width="50" height="40" fill="${isDarkMode ? '#5b21b6' : '#ede9fe'}" stroke="${isDarkMode ? '#a78bfa' : '#7c3aed'}" stroke-width="2"/>
                    <text x="200" y="150" text-anchor="middle" fill="${isDarkMode ? '#e2e8f0' : '#5b21b6'}" font-size="16">W₂</text>
                    
                    <!-- 连接箭头 -->
                    <path d="M200 70 L150 80" stroke="${isDarkMode ? '#94a3b8' : '#64748b'}" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
                    <path d="M200 70 L285 80" stroke="${isDarkMode ? '#94a3b8' : '#64748b'}" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
                    <path d="M150 120 L127.5 130" stroke="${isDarkMode ? '#94a3b8' : '#64748b'}" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
                    <path d="M150 120 L200 130" stroke="${isDarkMode ? '#94a3b8' : '#64748b'}" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
                    
                    <!-- 箭头标记定义 -->
                    <defs>
                        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                            <polygon points="0 0, 10 3.5, 0 7" fill="${isDarkMode ? '#94a3b8' : '#64748b'}"/>
                        </marker>
                    </defs>
                    
                    <!-- 标注 -->
                    <text x="20" y="50" text-anchor="start" fill="${isDarkMode ? '#94a3b8' : '#64748b'}" font-size="12">细节</text>
                    <text x="20" y="100" text-anchor="start" fill="${isDarkMode ? '#94a3b8' : '#64748b'}" font-size="12">更粗略</text>
                    <text x="20" y="150" text-anchor="start" fill="${isDarkMode ? '#94a3b8' : '#64748b'}" font-size="12">最粗略</text>
                    
                    <!-- 公式 -->
                    <text x="360" y="100" text-anchor="middle" fill="${isDarkMode ? '#a78bfa' : '#7c3aed'}" font-size="14">V₀ = V₁ ⊕ W₁</text>
                    <text x="360" y="150" text-anchor="middle" fill="${isDarkMode ? '#a78bfa' : '#7c3aed'}" font-size="14">V₁ = V₂ ⊕ W₂</text>
                </svg>
            `;
            
            // 创建DWT可视化
            const dwtVisualization = document.getElementById('dwtVisualization');
            dwtVisualization.innerHTML = `
                <svg width="100%" height="220" viewBox="0 0 450 220" xmlns="http://www.w3.org/2000/svg">
                    <!-- 输入信号 -->
                    <rect x="10" y="80" width="50" height="30" rx="5" fill="${isDarkMode ? '#0e7490' : '#cffafe'}" stroke="${isDarkMode ? '#22d3ee' : '#06b6d4'}" stroke-width="1.5"/>
                    <text x="35" y="97" font-size="12" text-anchor="middle" fill="${isDarkMode ? '#e2e8f0' : '#155e75'}">信号</text>
                    
                    <!-- 第一级分解 -->
                    <!-- 高通滤波 -->
                    <rect x="90" y="40" width="60" height="30" rx="5" fill="${isDarkMode ? '#4f46e5' : '#e0e7ff'}" stroke="${isDarkMode ? '#818cf8' : '#4f46e5'}" stroke-width="1.5"/>
                    <text x="120" y="57" font-size="12" text-anchor="middle" fill="${isDarkMode ? '#e2e8f0' : '#4338ca'}">H₀</text>
                    <text x="120" y="27" font-size="10" text-anchor="middle" fill="${isDarkMode ? '#94a3b8' : '#64748b'}">低通滤波</text>
                    
                    <!-- 低通滤波 -->
                    <rect x="90" y="120" width="60" height="30" rx="5" fill="${isDarkMode ? '#7e22ce' : '#f3e8ff'}" stroke="${isDarkMode ? '#c084fc' : '#7e22ce'}" stroke-width="1.5"/>
                    <text x="120" y="137" font-size="12" text-anchor="middle" fill="${isDarkMode ? '#e2e8f0' : '#6b21a8'}">G₀</text>
                    <text x="120" y="167" font-size="10" text-anchor="middle" fill="${isDarkMode ? '#94a3b8' : '#64748b'}">高通滤波</text>
                    
                    <!-- 下采样 -->
                    <circle cx="180" cy="55" r="15" fill="${isDarkMode ? '#0f172a' : '#f8fafc'}" stroke="${isDarkMode ? '#475569' : '#94a3b8'}" stroke-width="1.5"/>
                    <text x="180" y="58" font-size="10" text-anchor="middle" fill="${isDarkMode ? '#e2e8f0' : '#334155'}">↓2</text>
                    <text x="180" y="30" font-size="10" text-anchor="middle" fill="${isDarkMode ? '#94a3b8' : '#64748b'}">下采样</text>
                    
                    <circle cx="180" cy="135" r="15" fill="${isDarkMode ? '#0f172a' : '#f8fafc'}" stroke="${isDarkMode ? '#475569' : '#94a3b8'}" stroke-width="1.5"/>
                    <text x="180" y="138" font-size="10" text-anchor="middle" fill="${isDarkMode ? '#e2e8f0' : '#334155'}">↓2</text>
                    
                    <!-- 第二级分解 -->
                    <!-- 高通滤波 -->
                    <rect x="230" y="25" width="60" height="25" rx="5" fill="${isDarkMode ? '#4f46e5' : '#e0e7ff'}" stroke="${isDarkMode ? '#818cf8' : '#4f46e5'}" stroke-width="1.5"/>
                    <text x="260" y="41" font-size="10" text-anchor="middle" fill="${isDarkMode ? '#e2e8f0' : '#4338ca'}">H₁</text>
                    
                    <!-- 低通滤波 -->
                    <rect x="230" y="70" width="60" height="25" rx="5" fill="${isDarkMode ? '#7e22ce' : '#f3e8ff'}" stroke="${isDarkMode ? '#c084fc' : '#7e22ce'}" stroke-width="1.5"/>
                    <text x="260" y="86" font-size="10" text-anchor="middle" fill="${isDarkMode ? '#e2e8f0' : '#6b21a8'}">G₁</text>
                    
                    <!-- 下采样 -->
                    <circle cx="320" cy="37" r="12" fill="${isDarkMode ? '#0f172a' : '#f8fafc'}" stroke="${isDarkMode ? '#475569' : '#94a3b8'}" stroke-width="1.5"/>
                    <text x="320" y="40" font-size="9" text-anchor="middle" fill="${isDarkMode ? '#e2e8f0' : '#334155'}">↓2</text>
                    
                    <circle cx="320" cy="82" r="12" fill="${isDarkMode ? '#0f172a' : '#f8fafc'}" stroke="${isDarkMode ? '#475569' : '#94a3b8'}" stroke-width="1.5"/>
                    <text x="320" y="85" font-size="9" text-anchor="middle" fill="${isDarkMode ? '#e2e8f0' : '#334155'}">↓2</text>
                    
                    <!-- 结果框 -->
                    <rect x="360" y="25" width="70" height="25" rx="5" fill="${isDarkMode ? '#065f46' : '#d1fae5'}" stroke="${isDarkMode ? '#10b981' : '#047857'}" stroke-width="1.5"/>
                    <text x="395" y="41" font-size="10" text-anchor="middle" fill="${isDarkMode ? '#e2e8f0' : '#065f46'}">cA₂(近似)</text>
                    
                    <rect x="360" y="70" width="70" height="25" rx="5" fill="${isDarkMode ? '#9f1239' : '#ffe4e6'}" stroke="${isDarkMode ? '#f43f5e' : '#be123c'}" stroke-width="1.5"/>
                    <text x="395" y="86" font-size="10" text-anchor="middle" fill="${isDarkMode ? '#e2e8f0' : '#9f1239'}">cD₂(细节)</text>
                    
                    <rect x="230" y="135" width="70" height="30" rx="5" fill="${isDarkMode ? '#9f1239' : '#ffe4e6'}" stroke="${isDarkMode ? '#f43f5e' : '#be123c'}" stroke-width="1.5"/>
                    <text x="265" y="153" font-size="12" text-anchor="middle" fill="${isDarkMode ? '#e2e8f0' : '#9f1239'}">cD₁(细节)</text>
                    
                    <!-- 连接线 -->
                    <line x1="60" y1="95" x2="90" y2="55" stroke="${isDarkMode ? '#94a3b8' : '#64748b'}" stroke-width="1.5"/>
                    <line x1="60" y1="95" x2="90" y2="135" stroke="${isDarkMode ? '#94a3b8' : '#64748b'}" stroke-width="1.5"/>
                    
                    <line x1="150" y1="55" x2="165" y2="55" stroke="${isDarkMode ? '#94a3b8' : '#64748b'}" stroke-width="1.5"/>
                    <line x1="150" y1="135" x2="165" y2="135" stroke="${isDarkMode ? '#94a3b8' : '#64748b'}" stroke-width="1.5"/>
                    
                    <line x1="195" y1="55" x2="230" y2="37" stroke="${isDarkMode ? '#94a3b8' : '#64748b'}" stroke-width="1.5"/>
                    <line x1="195" y1="55" x2="230" y2="82" stroke="${isDarkMode ? '#94a3b8' : '#64748b'}" stroke-width="1.5"/>
                    <line x1="195" y1="135" x2="230" y2="135" stroke="${isDarkMode ? '#94a3b8' : '#64748b'}" stroke-width="1.5"/>
                    
                    <line x1="290" y1="37" x2="308" y2="37" stroke="${isDarkMode ? '#94a3b8' : '#64748b'}" stroke-width="1.5"/>
                    <line x1="290" y1="82" x2="308" y2="82" stroke="${isDarkMode ? '#94a3b8' : '#64748b'}" stroke-width="1.5"/>
                    
                    <line x1="332" y1="37" x2="360" y2="37" stroke="${isDarkMode ? '#94a3b8' : '#64748b'}" stroke-width="1.5"/>
                    <line x1="332" y1="82" x2="360" y2="82" stroke="${isDarkMode ? '#94a3b8' : '#64748b'}" stroke-width="1.5"/>
                    
                    <!-- 标题 -->
                    <text x="225" y="195" font-size="14" font-weight="bold" text-anchor="middle" fill="${isDarkMode ? '#e2e8f0' : '#1e293b'}">二级DWT分解流程示意图</text>
                </svg>
            `;
        });
    </script>
</body>
</html>